webpackJsonp([4],{"XBg+":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("Dd8w"),n=s.n(i),l=s("+x/a"),a=s("NYxO"),d={name:"SlicesIndex",data:function(){return{modulesToLoad:1,showCreate:!1,showEdit:!1,editAddLanguage:null,editSlice:{id:null,name:null},newSlice:{name:null,view:null}}},mounted:function(){this.retrieveAllSlices()},methods:n()({},Object(a.b)("devise",["getSlices","createSlice","updateSlice","deleteSlice"]),{requestCreateSlice:function(){var e=this;this.createSlice(this.newSlice).then(function(){e.newSlice.name=null,e.newSlice.view=null,e.showCreate=!1})},showEditSlice:function(e){this.editSlice.id=e.id,this.editSlice.name=e.name,this.showEdit=!0},requestEditSlice:function(){var e=this;this.updateSlice({slice:this.originalSlice(this.editSlice.id),data:this.editSlice}).then(function(){e.editSlice.id=null,e.editSlice.name=null,e.showEdit=!1})},requestDeleteSlice:function(e){var t=this;this.deleteSlice(e).then(function(){t.retrieveAllSlices()})},retrieveAllSlices:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.getSlices().then(function(){e&&window.bus.$emit("incrementLoadbar",self.modulesToLoad)})},originalSlice:function(e){return this.slices.data.find(function(t){return t.id===e})}}),computed:n()({},Object(a.c)("devise",["slices"]),{createInvalid:function(){return null===this.newSlice.name||null===this.newSlice.view},editInvalid:function(){return null===this.editSlice.name}}),components:{DeviseModal:l.a}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"dvs-flex dvs-justify-end dvs-items-stretch dvs-min-h-screen dvs-relative"},[s("div",{attrs:{id:"devise-sidebar"}},[s("h2",{staticClass:"dvs-font-bold dvs-mb-2"},[e._v("Slices")]),e._v(" "),s("a",{staticClass:"dvs-mb-8 dvs-block dvs-uppercase dvs-font-bold dvs-text-xs",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.goToPage("devise-developers-index")}}},[e._v("Back to Developers")]),e._v(" "),s("ul",{staticClass:"dvs-list-reset"},[s("li",{staticClass:"dvs-cursor-pointer dvs-mb-6 dvs-text-lg dvs-cursor-pointer",on:{click:function(t){t.preventDefault(),e.showCreate=!0}}},[e._v("\n        Create New Slice\n      ")])])]),e._v(" "),s("div",{attrs:{id:"devise-admin-content"}},[s("h2",{staticClass:"dvs-mb-10"},[e._v("Current Slices")]),e._v(" "),e._l(e.slices.data,function(t){return s("div",{staticClass:"dvs-mb-6 dvs-rounded-sm dvs-bg-white dvs-shadow-sm dvs-flex dvs-justify-between dvs-items-center"},[s("div",{staticClass:"dvs-min-w-2/5 dvs-text-base dvs-font-bold dvs-pr-8"},[e._v("\n        "+e._s(t.name)),s("br"),e._v(" "),s("span",{staticClass:"dvs-font-mono dvs-font-normal"},[e._v(e._s(t.domain))])]),e._v(" "),s("div",{staticClass:"dvs-min-w-1/5 dvs-text-sm dvs-font-mono dvs-pr-8"},[e._v("\n        "+e._s(t.view)+"\n      ")]),e._v(" "),s("div",{staticClass:"dvs-w-2/5 dvs-px-8 dvs-flex dvs-justify-end"},[s("button",{staticClass:"dvs-btn dvs-btn-xs dvs-mr-2",on:{click:function(s){e.showEditSlice(t)}}},[e._v("Edit")]),e._v(" "),s("button",{directives:[{name:"devise-alert-confirm",rawName:"v-devise-alert-confirm",value:{callback:e.requestDeleteSlice,arguments:t,message:"Are you sure you want to delete this slice?"},expression:"{callback: requestDeleteSlice, arguments: slice, message: 'Are you sure you want to delete this slice?'}"}],staticClass:"dvs-btn dvs-btn-xs"},[e._v("Delete")])])])})],2),e._v(" "),s("transition",{attrs:{name:"fade"}},[e.showCreate?s("devise-modal",{staticClass:"dvs-z-50",on:{close:function(t){e.showCreate=!1}}},[s("h4",{staticClass:"dvs-mb-4"},[e._v("Create new slice")]),e._v(" "),s("fieldset",{staticClass:"dvs-fieldset mb-4"},[s("label",[e._v("Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newSlice.name,expression:"newSlice.name"}],attrs:{type:"text",placeholder:"Name of the Slice"},domProps:{value:e.newSlice.name},on:{input:function(t){t.target.composing||e.$set(e.newSlice,"name",t.target.value)}}})]),e._v(" "),s("help",{staticClass:"dvs-mb-8"},[e._v('The view file that you are referencing will be located in the resources/views directory of your project and needs to be referenced through dot notation. For example, if you\'re referencing "/resources/views/heros/main-hero.blade.php" you will need to put "heros.main-hero" in this field.')]),e._v(" "),s("fieldset",{staticClass:"dvs-fieldset mb-4"},[s("label",[e._v("View")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newSlice.view,expression:"newSlice.view"}],attrs:{type:"text",placeholder:"View of the Slice"},domProps:{value:e.newSlice.view},on:{input:function(t){t.target.composing||e.$set(e.newSlice,"view",t.target.value)}}})]),e._v(" "),s("button",{staticClass:"dvs-btn",attrs:{disabled:e.createInvalid},on:{click:e.requestCreateSlice}},[e._v("Create")]),e._v(" "),s("button",{staticClass:"dvs-btn dvs-btn-plain",on:{click:function(t){e.showCreate=!1}}},[e._v("Cancel")])],1):e._e()],1),e._v(" "),s("transition",{attrs:{name:"fade"}},[e.showEdit?s("devise-modal",{staticClass:"dvs-z-50",on:{close:function(t){e.showEdit=!1}}},[s("h4",{staticClass:"dvs-mb-4"},[e._v("Edit slice")]),e._v(" "),s("fieldset",{staticClass:"dvs-fieldset mb-4"},[s("label",[e._v("Name")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.editSlice.name,expression:"editSlice.name"}],attrs:{type:"text",placeholder:"Name of the Slice"},domProps:{value:e.editSlice.name},on:{input:function(t){t.target.composing||e.$set(e.editSlice,"name",t.target.value)}}})]),e._v(" "),s("button",{staticClass:"dvs-btn",attrs:{disabled:e.editInvalid},on:{click:e.requestEditSlice}},[e._v("Edit")]),e._v(" "),s("button",{staticClass:"dvs-btn dvs-btn-plain",on:{click:function(t){e.showEdit=!1}}},[e._v("Cancel")])]):e._e()],1)],1)},staticRenderFns:[]},o=s("VU/8")(d,c,!1,null,null,null);t.default=o.exports}});