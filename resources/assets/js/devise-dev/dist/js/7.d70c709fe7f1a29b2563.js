webpackJsonp([7],{"4zoT":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("woOf"),n=a.n(s),l=a("Dd8w"),i=a.n(l),o=a("NYxO"),u={name:"MetaManage",data:function(){return{localValue:{data:[]},modulesToLoad:1,newMeta:{attribute_name:null,attribute_value:null,content:null}}},mounted:function(){this.retrieveAllMeta()},methods:i()({},Object(o.b)("devise",["getMeta","createMeta","updateMeta","deleteMeta"]),{requestCreateMeta:function(){var t=this;this.createMeta(this.newMeta).then(function(){t.newMeta.attribute_name=null,t.newMeta.attribute_value=null,t.newMeta.content=null})},requestUpdateMeta:function(t){this.updateMeta(t).then(function(){t.edit=!1})},requestDeleteMeta:function(t){this.deleteMeta(t)},retrieveAllMeta:function(){var t=this;this.getMeta().then(function(){t.localValue=n()({},t.localValue,t.meta),t.localValue.data.map(function(e){t.$set(e,"edit",!1)}),window.bus.$emit("incrementLoadbar",t.modulesToLoad)})}}),computed:i()({},Object(o.c)("devise",["meta"]),{isInvalid:function(){return null===this.newMeta.attribute_name||null===this.newMeta.attribute_value||null===this.newMeta.content},anyNewMetaPopulated:function(){return null!==this.newMeta.attribute_name||null!==this.newMeta.attribute_value||null!==this.newMeta.content}})},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dvs-flex dvs-items-stretch dvs-min-h-screen dvs-relative"},[a("div",{attrs:{id:"devise-sidebar"}},[a("h2",{staticClass:"dvs-font-bold dvs-mb-2"},[t._v("Manage Global Meta")]),t._v(" "),a("a",{staticClass:"dvs-mb-8 dvs-block dvs-uppercase dvs-font-bold dvs-text-xs",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.goToPage("devise-settings-index")}}},[t._v("Back to Settings")])]),t._v(" "),a("div",{attrs:{id:"devise-admin-content"}},[a("h3",{staticClass:"dvs-mb-8"},[t._v("Add Meta")]),t._v(" "),a("help",{staticClass:"dvs-mb-8"},[t._v("Global Meta are the meta tags that will be attached to every page of this site. They can be overridden on a page level but this gives you to the opportunity to set the "),a("span",{staticClass:"dvs-fonts-mono"},[t._v("<meta>")]),t._v(" across "),a("strong",[t._v("all")]),t._v(" pages.")]),t._v(" "),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[t._v("Attribute Name")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newMeta.attribute_name,expression:"newMeta.attribute_name"}],attrs:{type:"text"},domProps:{value:t.newMeta.attribute_name},on:{input:function(e){e.target.composing||t.$set(t.newMeta,"attribute_name",e.target.value)}}})]),t._v(" "),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[t._v("Attribute Value")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newMeta.attribute_value,expression:"newMeta.attribute_value"}],attrs:{type:"text"},domProps:{value:t.newMeta.attribute_value},on:{input:function(e){e.target.composing||t.$set(t.newMeta,"attribute_value",e.target.value)}}})]),t._v(" "),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[t._v("Content")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newMeta.content,expression:"newMeta.content"}],attrs:{type:"text"},domProps:{value:t.newMeta.content},on:{input:function(e){e.target.composing||t.$set(t.newMeta,"content",e.target.value)}}})]),t._v(" "),t.anyNewMetaPopulated?a("help",{staticClass:"dvs-mb-4"},[t._v("\n      <meta "+t._s(t.newMeta.attribute_name)+'="'+t._s(t.newMeta.attribute_value)+'" content="'+t._s(t.newMeta.content)+'">\n    ')]):t._e(),t._v(" "),a("button",{staticClass:"dvs-btn dvs-mb-8",attrs:{disabled:t.isInvalid},on:{click:t.requestCreateMeta}},[t._v("Save New Meta")]),t._v(" "),a("h3",{staticClass:"dvs-mb-8"},[t._v("Existing Global Meta")]),t._v(" "),a("div",{staticClass:"dvs-mb-12 dvs-flex dvs-flex-col"},t._l(t.localValue.data,function(e,s){return a("div",{staticClass:"dvs-flex dvs-justify-between dvs-items-center dvs-mb-2"},[a("div",{staticClass:"dvs-font-mono dvs-pr-8"},[e.edit?[a("fieldset",{staticClass:"dvs-fieldset"},[a("div",{staticClass:"dvs-flex dvs-items-center"},[t._v("\n                <meta\n                "),a("input",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"meta.edit"},{name:"model",rawName:"v-model",value:t.localValue.data[s].attribute_name,expression:"localValue.data[key].attribute_name"}],staticClass:"dvs-ml-4",attrs:{type:"text"},domProps:{value:t.localValue.data[s].attribute_name},on:{input:function(e){e.target.composing||t.$set(t.localValue.data[s],"attribute_name",e.target.value)}}}),t._v('="\n                '),a("input",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"meta.edit"},{name:"model",rawName:"v-model",value:t.localValue.data[s].attribute_value,expression:"localValue.data[key].attribute_value"}],attrs:{type:"text"},domProps:{value:t.localValue.data[s].attribute_value},on:{input:function(e){e.target.composing||t.$set(t.localValue.data[s],"attribute_value",e.target.value)}}}),t._v('"\n                '),a("span",{staticClass:"dvs-ml-4"},[t._v(' content="')]),t._v(" "),a("input",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"meta.edit"},{name:"model",rawName:"v-model",value:t.localValue.data[s].content,expression:"localValue.data[key].content"}],attrs:{type:"text"},domProps:{value:t.localValue.data[s].content},on:{input:function(e){e.target.composing||t.$set(t.localValue.data[s],"content",e.target.value)}}}),t._v('">\n              ')])])]:[t._v("\n            <meta "+t._s(e.attribute_name)+'="'+t._s(e.attribute_value)+'" content="'+t._s(e.content)+'">\n          ')]],2),t._v(" "),a("div",{staticClass:"dvs-flex dvs-justify-between dvs-items-center"},[e.edit?t._e():a("button",{staticClass:"dvs-btn dvs-btn-plain dvs-btn-xs dvs-ml-4",on:{click:function(t){e.edit=!e.edit}}},[a("i",{staticClass:"ion-edit"})]),t._v(" "),e.edit?t._e():a("button",{directives:[{name:"devise-alert-confirm",rawName:"v-devise-alert-confirm",value:{callback:t.requestDeleteMeta,arguments:e,message:"Are you sure you want to delete this meta?"},expression:"{callback: requestDeleteMeta, arguments:meta, message: 'Are you sure you want to delete this meta?'}"}],staticClass:"dvs-btn dvs-btn-plain dvs-btn-xs dvs-ml-4"},[a("i",{staticClass:"ion-trash-b"})]),t._v(" "),e.edit?a("button",{staticClass:"dvs-btn dvs-mr-2",on:{click:function(e){t.requestUpdateMeta(t.localValue.data[s])}}},[t._v("Save")]):t._e(),t._v(" "),e.edit?a("button",{staticClass:"dvs-btn dvs-btn-plain",on:{click:function(t){e.edit=!1}}},[t._v("Cancel")]):t._e()])])}))],1)])},staticRenderFns:[]},d=a("VU/8")(u,v,!1,null,null,null);e.default=d.exports}});