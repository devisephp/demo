webpackJsonp([2],{Wfkm:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=t("Dd8w"),a=t.n(n),r=t("+x/a"),i=t("NYxO"),d={name:"UsersIndex",data:function(){return{modulesToLoad:1,showCreate:!1,newUser:{name:null,email:null,password:null,password_confirmation:null}}},mounted:function(){this.retrieveAllUsers()},methods:a()({},Object(i.b)("devise",["getUsers","createUser"]),{requestCreateUser:function(){var e=this;this.createUser(this.newUser).then(function(){e.newUser.name=null,e.newUser.email=null,e.newUser.password=null,e.newUser.password_confirmation=!1,e.showCreate=!1})},retrieveAllUsers:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.getUsers().then(function(){e&&window.bus.$emit("incrementLoadbar",self.modulesToLoad)})},loadUser:function(e){this.$router.push({name:"devise-users-edit",params:{userId:e}})}}),computed:a()({},Object(i.c)("devise",["users"]),{createInvalid:function(){return null===this.newUser.name||null===this.newUser.email||null===this.newUser.password||null===this.newUser.password_confirmation||this.newUser.password!==this.newUser.password_confirmation}}),components:{DeviseModal:r.a}},o={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"dvs-flex dvs-justify-end dvs-items-stretch dvs-min-h-screen dvs-relative"},[t("div",{attrs:{id:"devise-sidebar"}},[t("h2",{staticClass:"dvs-font-bold dvs-mb-2"},[e._v("Users")]),e._v(" "),t("a",{staticClass:"dvs-mb-8 dvs-block dvs-uppercase dvs-font-bold dvs-text-xs",attrs:{href:"#"},on:{click:function(s){s.preventDefault(),e.goToPage("devise-index")}}},[e._v("Back to Main Menu")]),e._v(" "),t("ul",{staticClass:"dvs-list-reset"},[t("li",{staticClass:"dvs-cursor-pointer dvs-mb-6 dvs-text-lg dvs-cursor-pointer",on:{click:function(s){s.preventDefault(),e.showCreate=!0}}},[e._v("\n        Create New User\n      ")])])]),e._v(" "),t("div",{attrs:{id:"devise-admin-content"}},[t("h2",{staticClass:"dvs-mb-10"},[e._v("Current Users")]),e._v(" "),e._l(e.users.data,function(s){return t("div",{staticClass:"dvs-mb-6 dvs-rounded-sm dvs-bg-white dvs-shadow-sm dvs-flex dvs-justify-between dvs-items-center"},[t("div",{staticClass:"dvs-min-w-2/5 dvs-text-xl dvs-font-bold dvs-pr-8"},[e._v("\n        "+e._s(s.name)+"\n      ")]),e._v(" "),t("div",{staticClass:"dvs-w-2/5 dvs-px-8 dvs-flex dvs-justify-end"},[t("button",{staticClass:"dvs-btn dvs-btn-xs",on:{click:function(t){e.loadUser(s.id)}}},[e._v("Manage")])])])})],2),e._v(" "),t("transition",{attrs:{name:"fade"}},[e.showCreate?t("devise-modal",{staticClass:"dvs-z-50"},[t("h4",{staticClass:"dvs-mb-4"},[e._v("Create new user")]),e._v(" "),t("fieldset",{staticClass:"dvs-fieldset mb-4"},[t("label",[e._v("Name")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.name,expression:"newUser.name"}],attrs:{type:"text",placeholder:"Name of the User"},domProps:{value:e.newUser.name},on:{input:function(s){s.target.composing||e.$set(e.newUser,"name",s.target.value)}}})]),e._v(" "),t("fieldset",{staticClass:"dvs-fieldset mb-4"},[t("label",[e._v("Email")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],attrs:{type:"text",placeholder:"Email of the User"},domProps:{value:e.newUser.email},on:{input:function(s){s.target.composing||e.$set(e.newUser,"email",s.target.value)}}})]),e._v(" "),t("fieldset",{staticClass:"dvs-fieldset mb-4"},[t("label",[e._v("Password")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],attrs:{type:"password"},domProps:{value:e.newUser.password},on:{input:function(s){s.target.composing||e.$set(e.newUser,"password",s.target.value)}}})]),e._v(" "),t("fieldset",{staticClass:"dvs-fieldset mb-4"},[t("label",[e._v("Confirm Password")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password_confirmation,expression:"newUser.password_confirmation"}],attrs:{type:"password"},domProps:{value:e.newUser.password_confirmation},on:{input:function(s){s.target.composing||e.$set(e.newUser,"password_confirmation",s.target.value)}}})]),e._v(" "),t("button",{staticClass:"dvs-btn",attrs:{disabled:e.createInvalid},on:{click:e.requestCreateUser}},[e._v("Create")]),e._v(" "),t("button",{staticClass:"dvs-btn dvs-btn-plain",on:{click:function(s){e.showCreate=!1}}},[e._v("Cancel")])]):e._e()],1)],1)},staticRenderFns:[]},l=t("VU/8")(d,o,!1,null,null,null);s.default=l.exports}});