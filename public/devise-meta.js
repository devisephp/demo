webpackJsonp([5],{gYWg:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("W/d+"),n=a.n(s),l=a("F/Ew"),i=a.n(l),o=a("y9kL"),u={name:"MetaManage",data:function(){return{localValue:{data:[]},modulesToLoad:1,newMeta:{attribute_name:null,attribute_value:null,content:null}}},mounted:function(){this.retrieveAllMeta()},methods:i()({},Object(o.b)("devise",["getMeta","createMeta","updateMeta","deleteMeta"]),{requestCreateMeta:function(){var e=this;this.createMeta(this.newMeta).then(function(){e.newMeta.attribute_name=null,e.newMeta.attribute_value=null,e.newMeta.content=null})},requestUpdateMeta:function(e){this.updateMeta(e).then(function(){e.edit=!1})},requestDeleteMeta:function(e){this.deleteMeta(e)},retrieveAllMeta:function(){var e=this;this.getMeta().then(function(){e.localValue=n()({},e.localValue,e.meta),e.localValue.data.map(function(t){e.$set(t,"edit",!1)}),window.bus.$emit("incrementLoadbar",e.modulesToLoad)})}}),computed:i()({},Object(o.c)("devise",["meta"]),{isInvalid:function(){return null===this.newMeta.attribute_name||null===this.newMeta.attribute_value||null===this.newMeta.content},anyNewMetaPopulated:function(){return null!==this.newMeta.attribute_name||null!==this.newMeta.attribute_value||null!==this.newMeta.content}})},v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dvs-flex dvs-items-stretch dvs-min-h-screen dvs-relative"},[a("div",{attrs:{id:"devise-sidebar"}},[a("h2",{staticClass:"dvs-font-bold dvs-mb-2"},[e._v("Manage Global Meta")]),e._v(" "),a("a",{staticClass:"dvs-mb-8 dvs-block dvs-uppercase dvs-font-bold dvs-text-xs",attrs:{href:"#"},on:{click:function(t){t.preventDefault(),e.goToPage("devise-settings-index")}}},[e._v("Back to Settings")])]),e._v(" "),a("div",{attrs:{id:"devise-admin-content"}},[a("h3",{staticClass:"dvs-mb-8"},[e._v("Add Meta")]),e._v(" "),a("help",{staticClass:"dvs-mb-8"},[e._v("Global Meta are the meta tags that will be attached to every page of this site. They can be overridden on a page level but this gives you to the opportunity to set the "),a("span",{staticClass:"dvs-fonts-mono"},[e._v("<meta>")]),e._v(" across "),a("strong",[e._v("all")]),e._v(" pages.")]),e._v(" "),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Attribute Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newMeta.attribute_name,expression:"newMeta.attribute_name"}],attrs:{type:"text"},domProps:{value:e.newMeta.attribute_name},on:{input:function(t){t.target.composing||e.$set(e.newMeta,"attribute_name",t.target.value)}}})]),e._v(" "),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Attribute Value")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newMeta.attribute_value,expression:"newMeta.attribute_value"}],attrs:{type:"text"},domProps:{value:e.newMeta.attribute_value},on:{input:function(t){t.target.composing||e.$set(e.newMeta,"attribute_value",t.target.value)}}})]),e._v(" "),a("fieldset",{staticClass:"dvs-fieldset dvs-mb-4"},[a("label",[e._v("Content")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newMeta.content,expression:"newMeta.content"}],attrs:{type:"text"},domProps:{value:e.newMeta.content},on:{input:function(t){t.target.composing||e.$set(e.newMeta,"content",t.target.value)}}})]),e._v(" "),e.anyNewMetaPopulated?a("help",{staticClass:"dvs-mb-4"},[e._v("\n      <meta "+e._s(e.newMeta.attribute_name)+'="'+e._s(e.newMeta.attribute_value)+'" content="'+e._s(e.newMeta.content)+'">\n    ')]):e._e(),e._v(" "),a("button",{staticClass:"dvs-btn dvs-mb-8",attrs:{disabled:e.isInvalid},on:{click:e.requestCreateMeta}},[e._v("Save New Meta")]),e._v(" "),a("h3",{staticClass:"dvs-mb-8"},[e._v("Existing Global Meta")]),e._v(" "),a("div",{staticClass:"dvs-mb-12 dvs-flex dvs-flex-col"},e._l(e.localValue.data,function(t,s){return a("div",{staticClass:"dvs-flex dvs-justify-between dvs-items-center dvs-mb-2"},[a("div",{staticClass:"dvs-font-mono dvs-pr-8"},[t.edit?[a("fieldset",{staticClass:"dvs-fieldset"},[a("div",{staticClass:"dvs-flex dvs-items-center"},[e._v("\n                <meta\n                "),a("input",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"meta.edit"},{name:"model",rawName:"v-model",value:e.localValue.data[s].attribute_name,expression:"localValue.data[key].attribute_name"}],staticClass:"dvs-ml-4",attrs:{type:"text"},domProps:{value:e.localValue.data[s].attribute_name},on:{input:function(t){t.target.composing||e.$set(e.localValue.data[s],"attribute_name",t.target.value)}}}),e._v('="\n                '),a("input",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"meta.edit"},{name:"model",rawName:"v-model",value:e.localValue.data[s].attribute_value,expression:"localValue.data[key].attribute_value"}],attrs:{type:"text"},domProps:{value:e.localValue.data[s].attribute_value},on:{input:function(t){t.target.composing||e.$set(e.localValue.data[s],"attribute_value",t.target.value)}}}),e._v('"\n                '),a("span",{staticClass:"dvs-ml-4"},[e._v(' content="')]),e._v(" "),a("input",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"meta.edit"},{name:"model",rawName:"v-model",value:e.localValue.data[s].content,expression:"localValue.data[key].content"}],attrs:{type:"text"},domProps:{value:e.localValue.data[s].content},on:{input:function(t){t.target.composing||e.$set(e.localValue.data[s],"content",t.target.value)}}}),e._v('">\n              ')])])]:[e._v("\n            <meta "+e._s(t.attribute_name)+'="'+e._s(t.attribute_value)+'" content="'+e._s(t.content)+'">\n          ')]],2),e._v(" "),a("div",{staticClass:"dvs-flex dvs-justify-between dvs-items-center"},[t.edit?e._e():a("button",{staticClass:"dvs-btn dvs-btn-plain dvs-btn-xs dvs-ml-4",on:{click:function(e){t.edit=!t.edit}}},[a("i",{staticClass:"ion-edit"})]),e._v(" "),t.edit?e._e():a("button",{directives:[{name:"devise-alert-confirm",rawName:"v-devise-alert-confirm",value:{callback:e.requestDeleteMeta,arguments:t,message:"Are you sure you want to delete this meta?"},expression:"{callback: requestDeleteMeta, arguments:meta, message: 'Are you sure you want to delete this meta?'}"}],staticClass:"dvs-btn dvs-btn-plain dvs-btn-xs dvs-ml-4"},[a("i",{staticClass:"ion-trash-b"})]),e._v(" "),t.edit?a("button",{staticClass:"dvs-btn dvs-mr-2",on:{click:function(t){e.requestUpdateMeta(e.localValue.data[s])}}},[e._v("Save")]):e._e(),e._v(" "),t.edit?a("button",{staticClass:"dvs-btn dvs-btn-plain",on:{click:function(e){t.edit=!1}}},[e._v("Cancel")]):e._e()])])}))],1)])};v._withStripped=!0;var d={render:v,staticRenderFns:[]},r=d;var c=a("VU/8")(u,r,!1,null,null,null);c.options.__file="vendor/devisephp/cms/vue/src/components/meta/Manage.vue";t.default=c.exports}});